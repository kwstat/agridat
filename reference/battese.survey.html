<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Survey and satellite data for corn and soy areas in Iowa — battese.survey • agridat</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Survey and satellite data for corn and soy areas in Iowa — battese.survey"><meta name="description" content="Survey and satellite data for corn and soy areas in Iowa"><meta property="og:description" content="Survey and satellite data for corn and soy areas in Iowa"><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">agridat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.23</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/agridat_data.html">Additional sources of agricultural data</a></li>
    <li><a class="dropdown-item" href="../articles/agridat_graphical_gems.html">Graphical Gems in the agridat Package</a></li>
    <li><a class="dropdown-item" href="../articles/agridat_intro.html">Introduction to agridat</a></li>
    <li><a class="dropdown-item" href="../articles/agridat_mixed_model_example.html">Example generalized linear mixed model analysis with different packages</a></li>
    <li><a class="dropdown-item" href="../articles/agridat_uniformity_data.html">Notes on uniformity data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kwstat/agridat/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Survey and satellite data for corn and soy areas in Iowa</h1>

      <div class="d-none name"><code>battese.survey.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Survey and satellite data for corn and soy areas in Iowa</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"battese.survey"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>A data frame with 37 observations on the following 9 variables.</p><dl><dt><code>county</code></dt>
<dd><p>county name</p></dd>

    <dt><code>segment</code></dt>
<dd><p>sample segment number (within county)</p></dd>

    <dt><code>countysegs</code></dt>
<dd><p>number of segments in county</p></dd>

    <dt><code>cornhect</code></dt>
<dd><p>hectares of corn in segment</p></dd>

    <dt><code>soyhect</code></dt>
<dd><p>hectares of soy</p></dd>

    <dt><code>cornpix</code></dt>
<dd><p>pixels of corn in segment</p></dd>

    <dt><code>soypix</code></dt>
<dd><p>pixels of soy</p></dd>

    <dt><code>cornmean</code></dt>
<dd><p>county mean of corn pixels per segment</p></dd>

    <dt><code>soymean</code></dt>
<dd><p>county mean of soy pixels per segment</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The data are for 12 counties in north-central Iowa in 1978.</p>
<p>The USDA determined the area of soybeans in 37 area sampling units
  (called 'segments').  Each segment is about one square mile (about 259
  hectares).  The number of pixels of that were classified as corn and
  soybeans came from Landsat images obtained in Aug/Sep 1978. Each pixel
  represents approximately 0.45 hectares.</p>
<p>Data originally compiled by USDA.</p>
<p>This data is also available in R packages: 'rsae::landsat' and 'JoSAE::landsat'.</p>
    </div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Battese, George E and Harter, Rachel M and Fuller, Wayne A. (1988).
  An error-components model for prediction of county crop areas using
  survey and satellite data.
  Journal of the American Statistical Association, 83, 28-36.
  https://doi.org/10.2307/2288915</p>
<p>Battese (1982) preprint version.
  https://www.une.edu.au/__data/assets/pdf_file/0017/15542/emetwp15.pdf</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Pushpal K Mukhopadhyay and Allen McDowell. (2011).
  Small Area Estimation for Survey Data Analysis Using SAS Software
  SAS Global Forum 2011.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kwstat.github.io/agridat/" class="external-link">agridat</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">battese.survey</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">battese.survey</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Battese fig 1 &amp; 2.  Corn plot shows outlier in Hardin county</span></span></span>
<span class="r-in"><span><span class="fu"><a href="libs.html">libs</a></span><span class="op">(</span><span class="va">lattice</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">cornpix</span><span class="op">)</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span><span class="va">cornhect</span> <span class="op">~</span> <span class="va">cornpix</span>, data<span class="op">=</span><span class="va">dat</span>, group<span class="op">=</span><span class="va">county</span>, type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'p'</span>,<span class="st">'l'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       main<span class="op">=</span><span class="st">"battese.survey"</span>, xlab<span class="op">=</span><span class="st">"Pixels of corn"</span>, ylab<span class="op">=</span><span class="st">"Hectares of corn"</span>,</span></span>
<span class="r-in"><span>       auto.key<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>columns<span class="op">=</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">soypix</span><span class="op">)</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span><span class="va">soyhect</span> <span class="op">~</span> <span class="va">soypix</span>, data<span class="op">=</span><span class="va">dat</span>, group<span class="op">=</span><span class="va">county</span>, type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'p'</span>,<span class="st">'l'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       main<span class="op">=</span><span class="st">"battese.survey"</span>, xlab<span class="op">=</span><span class="st">"Pixels of soy"</span>, ylab<span class="op">=</span><span class="st">"Hectares of soy"</span>,</span></span>
<span class="r-in"><span>       auto.key<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>columns<span class="op">=</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="libs.html">libs</a></span><span class="op">(</span><span class="va">lme4</span>, <span class="va">lucid</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Fit the models of Battese 1982, p.18.  Results match</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu">lmer</span><span class="op">(</span><span class="va">cornhect</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">cornpix</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">county</span><span class="op">)</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fixef</span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## (Intercept)     cornpix </span></span></span>
<span class="r-in"><span><span class="co">##   5.4661899   0.3878358 </span></span></span>
<span class="r-in"><span><span class="fu">vc</span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##      grp        var1 var2   vcov  sdcor</span></span></span>
<span class="r-in"><span><span class="co">##   county (Intercept) &lt;NA&gt;  62.83  7.926</span></span></span>
<span class="r-in"><span><span class="co">## Residual        &lt;NA&gt; &lt;NA&gt; 290.4  17.04 </span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu">lmer</span><span class="op">(</span><span class="va">soyhect</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">soypix</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">county</span><span class="op">)</span>, data<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fixef</span><span class="op">(</span><span class="va">m2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## (Intercept)      soypix </span></span></span>
<span class="r-in"><span><span class="co">##  -3.8223566   0.4756781 </span></span></span>
<span class="r-in"><span><span class="fu">vc</span><span class="op">(</span><span class="va">m2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##      grp        var1 var2  vcov sdcor</span></span></span>
<span class="r-in"><span><span class="co">##   county (Intercept) &lt;NA&gt; 239.2 15.47</span></span></span>
<span class="r-in"><span><span class="co">## Residual        &lt;NA&gt; &lt;NA&gt; 180   13.42</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Predict for Humboldt county as in Battese 1982 table 2</span></span></span>
<span class="r-in"><span><span class="fl">5.4662</span><span class="op">+</span><span class="fl">.3878</span><span class="op">*</span><span class="fl">290.74</span></span></span>
<span class="r-in"><span><span class="co"># 118.2152 # mu_i^0</span></span></span>
<span class="r-in"><span><span class="fl">5.4662</span><span class="op">+</span><span class="fl">.3878</span><span class="op">*</span><span class="fl">290.74</span><span class="op">+</span> <span class="op">-</span><span class="fl">2.8744</span></span></span>
<span class="r-in"><span><span class="co"># 115.3408 # mu_i^gamma</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="fl">185.35</span><span class="op">+</span><span class="fl">116.43</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span></span></span>
<span class="r-in"><span><span class="co"># 150.89 # y_i bar</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Survey regression estimator of Battese 1988</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Delete the outlier</span></span></span>
<span class="r-in"><span><span class="va">dat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat</span>, <span class="op">!</span><span class="op">(</span><span class="va">county</span><span class="op">==</span><span class="st">"Hardin"</span> <span class="op">&amp;</span> <span class="va">soyhect</span> <span class="op">&lt;</span> <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Results match top-right of Battese 1988, p. 33</span></span></span>
<span class="r-in"><span><span class="va">m3</span> <span class="op">&lt;-</span> <span class="fu">lmer</span><span class="op">(</span><span class="va">cornhect</span> <span class="op">~</span> <span class="va">cornpix</span> <span class="op">+</span> <span class="va">soypix</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">county</span><span class="op">)</span>, data<span class="op">=</span><span class="va">dat2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fixef</span><span class="op">(</span><span class="va">m3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## (Intercept)     cornpix      soypix </span></span></span>
<span class="r-in"><span><span class="co">##  51.0703979   0.3287217  -0.1345684 </span></span></span>
<span class="r-in"><span><span class="fu">vc</span><span class="op">(</span><span class="va">m3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##      grp        var1 var2  vcov sdcor</span></span></span>
<span class="r-in"><span><span class="co">##   county (Intercept) &lt;NA&gt; 140   11.83</span></span></span>
<span class="r-in"><span><span class="co">## Residual        &lt;NA&gt; &lt;NA&gt; 147.3 12.14</span></span></span>
<span class="r-in"><span><span class="va">m4</span> <span class="op">&lt;-</span> <span class="fu">lmer</span><span class="op">(</span><span class="va">soyhect</span> <span class="op">~</span> <span class="va">cornpix</span> <span class="op">+</span> <span class="va">soypix</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">county</span><span class="op">)</span>, data<span class="op">=</span><span class="va">dat2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fixef</span><span class="op">(</span><span class="va">m4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##  (Intercept)      cornpix       soypix </span></span></span>
<span class="r-in"><span><span class="co">## -15.59027098   0.02717639   0.49439320 </span></span></span>
<span class="r-in"><span><span class="fu">vc</span><span class="op">(</span><span class="va">m4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">##      grp        var1 var2  vcov sdcor</span></span></span>
<span class="r-in"><span><span class="co">##   county (Intercept) &lt;NA&gt; 247.5 15.73</span></span></span>
<span class="r-in"><span><span class="co">## Residual        &lt;NA&gt; &lt;NA&gt; 190.5 13.8 </span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kevin Wright.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

